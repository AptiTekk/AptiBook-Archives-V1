<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:b="http://bootsfaces.net/ui"
>

<ui:composition template="/WEB-INF/templates/default_header.xhtml">
    <ui:define name="content">
        <b:container>
            <h2 style="margin-top:50px">Notifications</h2>

            <b:column colSm="6" offsetSm="3">
                <ui:fragment rendered="#{not empty NotificationViewController.notifications}">
                    <!--<b:accordion>-->
                    <ui:repeat value="#{NotificationViewController.notifications}" var="notification">
                        <b:panel id="notification#{notification.id}" title="#{notification.subject}">
                            <f:attribute name="look" value="#{notification.read? 'default' : 'primary'}"/>
                            #{notification.body}
                            <f:facet name="footer">
                                <h:outputText value="#{NotificationController.formatDateTime(notification.creation)}"/>
                            </f:facet>
                        </b:panel>
                    </ui:repeat>
                    <!--</b:accordion>-->
                </ui:fragment>
                <ui:fragment rendered="#{empty NotificationViewController.notifications}">
                    <h5 class="text-center">
                        <small>No Notifications</small>
                    </h5>
                </ui:fragment>
                <h:form>

                    <b:commandButton value="Push Test Notification" action="#{NotificationController.testInsert}"/>
                </h:form>
            </b:column>
        </b:container>
    </ui:define>
</ui:composition>


</html>
